{"version":3,"sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.component.html","./src/app/login/login.component.scss","./src/app/login/login.component.ts","./src/app/login/login.module.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: LoginComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login-routing.module.ts","module.exports = \"<div class=\\\"login-page\\\" [@routerTransition]>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-4 push-md-4\\\">\\r\\n            <div class=\\\"form-header jqx-widget-header jqx-window-header\\\" style=\\\"background:#e0eaf5 !important; border:1px solid #a8bace !important;\\\">\\r\\n                <h2>MANUFACTURING INVENTORY MANAGEMENT SYSTEM</h2>\\r\\n            </div>\\r\\n            <div class=\\\"form-container\\\" style=\\\"background:#e0eaf5 !important;border:1px solid #a8bace !important;\\\">\\r\\n                <!-- <img src=\\\"assets/images/logo.png\\\" width=\\\"150px\\\" class=\\\"user-avatar\\\" /> -->\\r\\n                <form role=\\\"form\\\" name=\\\"loginForm\\\" [formGroup]=\\\"loginForm\\\">\\r\\n                    <div class=\\\"form-content\\\">\\r\\n                        <div class=\\\"row\\\" *ngIf=\\\"msgType && msgText\\\">\\r\\n                            <div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" style=\\\"padding:0.2rem !important; text-align: center; width: 100%;\\\">\\r\\n                                <p style=\\\"margin-bottom: 0rem;font-size: 0.8rem;\\\"> {{ msgText }}</p>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row\\\">\\r\\n                            <label for=\\\"userName\\\" class=\\\"col-sm-3 col-form-label\\\">Username</label>\\r\\n                            <div class=\\\"col-sm-9\\\" style=\\\"text-align: left;\\\">\\r\\n                                <jqxInput #username class=\\\"name\\\" [height]=\\\"23\\\" [width]=\\\"200\\\" formControlName=\\\"username\\\">\\r\\n                                </jqxInput>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row\\\">\\r\\n                            <label for=\\\"userPassword\\\" class=\\\"col-sm-3 col-form-label\\\">Password</label>\\r\\n                            <div class=\\\"col-sm-9\\\" style=\\\"text-align: left;\\\">\\r\\n                                <jqxPasswordInput #password class=\\\"password\\\" [height]=\\\"23\\\" [width]=\\\"200\\\" formControlName=\\\"password\\\"></jqxPasswordInput>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group row\\\">\\r\\n                            <label for=\\\"companyName\\\" class=\\\"col-sm-3 col-form-label\\\">Estate</label>\\r\\n                            <div class=\\\"col-sm-9\\\">\\r\\n                                <jqxComboBox \\r\\n                                #estateCombo [source]=\\\"estateAdapter\\\" [displayMember]=\\\"'name'\\\" [valueMember]=\\\"'id'\\\" [height]=\\\"23\\\" [searchMode]=\\\"'containsignorecase'\\\" (onChange)=\\\"estateComboChange($event)\\\">\\r\\n                                </jqxComboBox>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <jqxButton style=\\\"margin-right: 5px;\\\" [disabled]=\\\"!loginForm.valid && !estateSelected\\\" (onClick)=\\\"getLogin(loginForm.value)\\\" [width]=\\\"100\\\" [theme]=\\\"'energyblue'\\\">\\r\\n                        Login\\r\\n                    </jqxButton>\\r\\n                    <!-- <a class=\\\"btn tfm-login-btn\\\" [routerLink]=\\\"['/dashboard']\\\" (click)=\\\"onLoggedin()\\\"> Log in </a>\\r\\n                    &nbsp; -->\\r\\n                    <!-- <a class=\\\"btn rounded-btn\\\" [routerLink]=\\\"['/signup']\\\">Register</a> -->\\r\\n                </form>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<jqxLoader #loginLoader [imagePosition]=\\\"'top'\\\" [width]=\\\"100\\\" [text]=\\\"'Logging in..'\\\" [textPosition]=\\\"'bottom'\\\" [height]=\\\"60\\\" [isModal]=\\\"true\\\" [theme]=\\\"'energyblue'\\\">\\r\\n    </jqxLoader>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.html\n// module id = ./src/app/login/login.component.html\n// module chunks = login.module","module.exports = \":host {\\n  display: block; }\\n\\n.login-page {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: auto;\\n  background: #fff;\\n  text-align: center;\\n  color: #fff;\\n  padding: 7rem 4rem; }\\n\\n.login-page .form-header {\\n    border: 1px solid #d8d3d3 !important;\\n    border-radius: 4px 4px 0 0; }\\n\\n.login-page .form-header h2 {\\n      color: #333;\\n      font-size: 1rem;\\n      font-weight: bold;\\n      line-height: 1.4rem;\\n      margin: 10px 0; }\\n\\n.login-page .col-lg-4 {\\n    padding: 0; }\\n\\n.login-page .form-container {\\n    border: 1px solid #d8d3d3 !important;\\n    background: #e8e8e8;\\n    padding: 1em 1.5em;\\n    color: #333;\\n    border-radius: 0 0 4px 4px; }\\n\\n.login-page .input-lg {\\n    height: 46px;\\n    padding: 10px 16px;\\n    font-size: 18px;\\n    line-height: 1.3333333;\\n    border-radius: 0; }\\n\\n.login-page .input-underline {\\n    background: 0 0;\\n    border: none;\\n    -webkit-box-shadow: none;\\n            box-shadow: none;\\n    border-bottom: 2px solid rgba(255, 255, 255, 0.5);\\n    color: #FFF;\\n    border-radius: 0; }\\n\\n.login-page .input-underline:focus {\\n    border-bottom: 2px solid #fff;\\n    -webkit-box-shadow: none;\\n            box-shadow: none; }\\n\\n.login-page .tfm-login-btn {\\n    border-radius: 0px !important;\\n    font-family: Verdana,Arial,sans-serif;\\n    font-style: normal;\\n    font-size: 0.9rem;\\n    border-color: #aaa;\\n    background: #efefef;\\n    outline: none;\\n    border: 1px solid #ababab;\\n    padding: 0.4rem 0.6rem;\\n    text-align: center;\\n    vertical-align: central;\\n    cursor: pointer;\\n    color: #333;\\n    font-weight: bold; }\\n\\n.login-page .rounded-btn {\\n    border-radius: 50px;\\n    color: rgba(255, 255, 255, 0.8);\\n    background: #222;\\n    border: 2px solid rgba(255, 255, 255, 0.8);\\n    font-size: 18px;\\n    line-height: 40px;\\n    padding: 0 25px; }\\n\\n.login-page .rounded-btn:hover, .login-page .rounded-btn:focus, .login-page .rounded-btn:active, .login-page .rounded-btn:visited {\\n    color: white;\\n    border: 2px solid white;\\n    outline: none; }\\n\\n.login-page h1 {\\n    font-weight: 300;\\n    margin-top: 20px;\\n    margin-bottom: 10px;\\n    font-size: 28px;\\n    font-weight: bold;\\n    color: #d6d6d6; }\\n\\n.login-page h1 small {\\n      color: rgba(255, 255, 255, 0.7); }\\n\\n.login-page .form-group {\\n    padding: 8px 0; }\\n\\n.login-page .form-group input::-webkit-input-placeholder {\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-group input:-moz-placeholder {\\n      /* Firefox 18- */\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-group input::-moz-placeholder {\\n      /* Firefox 19+ */\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-group input:-ms-input-placeholder {\\n      color: rgba(255, 255, 255, 0.6) !important; }\\n\\n.login-page .form-content {\\n    padding: 10px 0; }\\n\\n.login-page .form-content .form-group {\\n      margin-bottom: 0; }\\n\\n.login-page .form-content .col-form-label {\\n      padding-top: 0;\\n      padding-bottom: 0;\\n      font-size: 0.8rem;\\n      line-height: 1rem; }\\n\\n.login-page .user-avatar {\\n    border-radius: 50%;\\n    border: 2px solid #FFF;\\n    height: 60px;\\n    width: 60px; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.scss\n// module id = ./src/app/login/login.component.scss\n// module chunks = login.module","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { routerTransition } from '../router.animations';\r\nimport {FormGroup,FormControl,FormBuilder,Validators } from '@angular/forms';\r\nimport { AuthenticateService, EstateService } from '../shared';\r\nimport { JwtHelper } from 'angular2-jwt';\r\n\r\nimport { jqxComboBoxComponent } from 'jqwidgets-framework/jqwidgets-ts/angular_jqxcombobox';\r\nimport { jqxLoaderComponent } from 'jqwidgets-framework/jqwidgets-ts/angular_jqxloader';\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.scss'],\r\n    animations: [routerTransition()]\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n    @ViewChild('estateCombo') estateCombo: jqxComboBoxComponent;\r\n    @ViewChild('loginLoader') loginLoader: jqxLoaderComponent;\r\n\r\n    estateAdapter: any = [];\r\n\r\n    loginForm:FormGroup;\r\n    estateSelected: boolean = false;\r\n\r\n    msgType: string;\r\n    msgText: string;\r\n\r\n    jwtHelper: JwtHelper = new JwtHelper();\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        public router: Router,\r\n        private as: AuthenticateService,\r\n        private es: EstateService,\r\n        private fb:FormBuilder,\r\n        // public dataService: AppDataService\r\n\r\n    ) {\r\n        this.loginForm = this.fb.group({\r\n            'username': [null,Validators.required],\r\n            'password': [null,Validators.required],\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        let currentToken = this.as.getToken();\r\n        let currentUser = this.as.getUser();\r\n        if(currentToken && this.jwtHelper.isTokenExpired(currentToken)){\r\n            this.as.logout();\r\n            this.router.navigate(['/login'],{ queryParams: { type:'error', msg: 'Token Expired Please login to continue' } });\r\n        }else if(currentToken && currentUser && !this.jwtHelper.isTokenExpired(currentToken)){\r\n            this.router.navigate(['/']);\r\n        }else{\r\n            this.as.logout();\r\n            this.getEstateData();\r\n        }\r\n\r\n        this.route.queryParams.subscribe(params => {\r\n          // Defaults to 0 if no query param provided.\r\n          this.msgType = params['type'] || null;\r\n          this.msgText = params['msg'] || null;\r\n        });\r\n        \r\n    }\r\n\r\n    getEstateData(){\r\n        // TODO: Move these code inside else\r\n        this.es.index({limit:'all'}).subscribe(\r\n            response => {\r\n                console.log(response);\r\n                this.estateAdapter = response;\r\n            },\r\n            error => {\r\n                console.log(error);\r\n            }\r\n        );\r\n    }\r\n\r\n    estateComboChange($event){\r\n        let val = this.estateCombo.val();\r\n        if(val){\r\n            this.estateSelected = true;\r\n        }else{\r\n            this.estateSelected = false;\r\n        }\r\n    }\r\n\r\n    onLoggedin() {\r\n        console.log('Test');\r\n        localStorage.setItem('isLoggedin', 'true');\r\n    }\r\n\r\n    getLogin(post){\r\n        // this.router.navigate(['/dashboard']);\r\n        this.loginLoader.open();\r\n        post['estate'] = this.estateCombo.val();\r\n        this.as.login(post)\r\n        .subscribe(\r\n          result => {\r\n              console.log(result);\r\n              if(result['token']){\r\n                let selectedEstate = this.estateCombo.getSelectedItem()['originalItem'];\r\n                console.log(selectedEstate);\r\n                let estateData = JSON.stringify({estate_name:selectedEstate['name'],estate:selectedEstate['id']});\r\n                localStorage.setItem('teaERPEstate', estateData);\r\n                this.as.getDetail({token:result['token']}).subscribe(\r\n                    response => {\r\n                        console.log(response);\r\n                        this.loginLoader.close();\r\n                        localStorage.setItem('teaERPUser',JSON.stringify(response));\r\n                        this.router.navigate(['/dashboard']);\r\n                        console.log('navigated');\r\n                    },\r\n                    error => {\r\n                        this.loginLoader.close();\r\n                        console.log(error);\r\n                        this.as.logout();\r\n                    }\r\n                );\r\n              }else{\r\n                this.loginLoader.close();\r\n              }\r\n        },\r\n        error => {\r\n            this.loginLoader.close();\r\n        //   if(error._body){\r\n        //     this.error = JSON.parse(error._body).error;\r\n        //   }\r\n        //   this.loading = false;\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.component.ts","import { CommonModule } from '@angular/common';\r\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { SharedModule } from '../shared/modules/shared.module';\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule,\r\n        LoginRoutingModule\r\n    ],\r\n    declarations: [LoginComponent],\r\n    schemas: [ NO_ERRORS_SCHEMA]\r\n})\r\nexport class LoginModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.module.ts"],"sourceRoot":"webpack:///"}